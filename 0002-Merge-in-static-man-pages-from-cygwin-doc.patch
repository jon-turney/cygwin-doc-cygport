From 8a5c2c2bc5e5d76c0e04b21b7dd8ad44d72ab359 Mon Sep 17 00:00:00 2001
From: Jon TURNEY <jon.turney@dronecode.org.uk>
Date: Tue, 10 Mar 2015 22:59:49 +0000
Subject: [PATCH 2/9] Merge in static man pages from cygwin-doc

v2:
intro.1 and cygwin.1 are identical. Make cygwin.1 a link to intro.1
Update dates in static man pages

Signed-off-by: Jon TURNEY <jon.turney@dronecode.org.uk>
---
 winsup/man/Makefile.in |  36 +++++++++++++-
 winsup/man/cygwin.1    |   1 +
 winsup/man/intro.1     | 132 +++++++++++++++++++++++++++++++++++++++++++++++++
 winsup/man/intro.3     |  91 ++++++++++++++++++++++++++++++++++
 4 files changed, 258 insertions(+), 2 deletions(-)
 create mode 100644 winsup/man/cygwin.1
 create mode 100644 winsup/man/intro.1
 create mode 100644 winsup/man/intro.3

diff --git a/winsup/man/Makefile.in b/winsup/man/Makefile.in
index 240a8a2..44ad573 100644
--- a/winsup/man/Makefile.in
+++ b/winsup/man/Makefile.in
@@ -9,13 +9,45 @@
 
 srcdir:=@srcdir@
 
-.PHONY: all install clean
+prefix:=@prefix@
+mandir:=@mandir@
+man1dir:=$(mandir)/man1
+man3dir:=$(mandir)/man3
+
+MAN1S:=$(srcdir)/cygwin.1 $(srcdir)/intro.1
+MAN3S:=$(srcdir)/intro.3
+
+INSTALL:=@INSTALL@
+INSTALL_DATA:=@INSTALL_DATA@
+MKDIRP:=$(INSTALL) -m 755 -d
+
+.PHONY: all install clean install-man install-man1 install-man3
 
 all:
 
-install:
+install: install-man
 
 clean:
 
 Makefile: $(srcdir)/Makefile.in
 	 /bin/sh ./config.status
+
+install-man: install-man1 install-man3
+
+install-man3: $(MAN3S)
+	test -z "$(man3dir)" || $(MKDIRP) "$(DESTDIR)$(man3dir)"
+	@list='$(MAN3S)'; for p in $$list; do \
+	  if test -f "$$p"; then d=; else d="$(srcdir)/"; fi; \
+	  f=`echo $$p | sed -e 's|^.*/||'`; \
+	  echo " $(INSTALL_DATA) '$$d$$p' '$(DESTDIR)$(man3dir)/$$f'"; \
+	  $(INSTALL_DATA) "$$d$$p" "$(DESTDIR)$(man3dir)/$$f"; \
+	done
+
+install-man1: $(MAN1S)
+	test -z "$(man1dir)" || $(MKDIRP) "$(DESTDIR)$(man1dir)"
+	@list='$(MAN1S)'; for p in $$list; do \
+	  if test -f "$$p"; then d=; else d="$(srcdir)/"; fi; \
+	  f=`echo $$p | sed -e 's|^.*/||'`; \
+	  echo " $(INSTALL_DATA) '$$d$$p' '$(DESTDIR)$(man1dir)/$$f'"; \
+	  $(INSTALL_DATA) "$$d$$p" "$(DESTDIR)$(man1dir)/$$f"; \
+	done
diff --git a/winsup/man/cygwin.1 b/winsup/man/cygwin.1
new file mode 100644
index 0000000..7971b88
--- /dev/null
+++ b/winsup/man/cygwin.1
@@ -0,0 +1 @@
+.so intro.1
diff --git a/winsup/man/intro.1 b/winsup/man/intro.1
new file mode 100644
index 0000000..9552094
--- /dev/null
+++ b/winsup/man/intro.1
@@ -0,0 +1,132 @@
+.\"{{{}}}
+.\"{{{  Title
+.TH INTRO 1 "" "" "Cygwin"
+.\"}}}
+.\"{{{  Name
+.SH NAME
+.B intro
+\- Introduction to the Cygwin Environment
+.\"}}}
+.\"{{{  Description
+.SH DESCRIPTION
+.B Cygwin
+is a Linux-like environment for Windows. It consists of two parts:
+
+A DLL (\fBcygwin1.dll\fP) which acts as a Linux API emulation layer providing
+substantial Linux API functionality. The
+.BR intro (3)
+man page gives an introduction to this API.
+
+A collection of tools which provide Linux look and feel.
+This man page describes the user environment.
+.\"}}}
+
+.\"{{{  Availability
+.SH AVAILABILITY
+.B Cygwin
+is developed by volunteers collaborating over the Internet. It is
+distributed through the website \fB http://cygwin.com\fP, where you can find
+extensive documentation, including FAQ, User's Guide, and API Reference. The
+.B Cygwin
+website should
+be considered the authoritative source of information. The source code,
+released under the\fB GNU General Public License, Version 2\fP, is also
+available from the website or one of the mirrors.
+.\"}}}
+
+.\"{{{  Availability
+.SH COMPATIBILITY
+.B Cygwin
+uses the GNU versions of many of the standard UNIX command-line
+utilities (\fBsed\fP,\fB awk\fP, etc.), so the user environment is more similar
+to a Linux system than, for example, Sun Solaris.
+
+.P
+The default login shell and \fB /bin/sh\fP for
+.B Cygwin
+is\fB bash\fP, the GNU "Bourne-Again Shell", but other shells such
+as\fB tcsh\fP (an improved\fB csh\fP) are also available and can
+be installed using
+.B Cygwin's
+setup.
+
+.SH NOTES
+To port applications you will need to install the development
+tools, which you can do by selecting
+.B gcc
+in
+.B setup.exe
+(dependencies are automatically handled).
+If you need a specific program or library, you can search for a
+.B Cygwin
+package containing it at:
+
+.B http://cygwin.com/packages/
+
+.P
+If you are a UNIX veteran who plans to use
+.B Cygwin
+extensively, you will probably find it worth your while to learn to
+use\fB Cygwin\fP-specific tools that provide a UNIX\-like interface to
+common operations. For example,
+.B cygpath
+converts between UNIX and Win32-style pathnames. The full documentation
+for these utilities is at:
+
+.B http://cygwin.com/cygwin-ug-net/using-utils.html
+
+The optional
+.B cygutils
+package also contains utilities that help with common problems, such
+as\fB dos2unix\fP and\fB unix2dos\fP for the CRLF issue.
+.\"}}}
+
+.\"{{{  Documentation
+.SH DOCUMENTATION
+In addition to man pages and texinfo documentation, many
+.B Cygwin
+packages provide system-independent documentation in the
+.B /usr/share/doc/
+directory and\fB Cygwin\fP-specific documentation in
+.B /usr/share/doc/Cygwin/
+.P
+For example, if you have both
+.B less
+and
+.B cron
+installed, the command
+
+	less /usr/share/doc/Cygwin/cron.README
+
+would display the instructions to set up
+.B cron
+on your system.
+.\"}}}
+
+.\"{{{  Reporting Bugs
+.SH REPORTING BUGS
+If you find a bug in\fB Cygwin\fP, please read
+
+.B http://cygwin.com/bugs.html
+
+and follow the instructions for reporting found there.
+If you are able to track down the source of the bug and can provide a
+fix, there are instructions for contributing patches at:
+
+.B http://cygwin.com/contrib.html
+.\"}}}
+
+.\"{{{  Copyright
+.SH COPYRIGHT
+.B Cygwin
+is Copyright (C) 1995-2015 Red Hat, Inc.
+.PP
+\fBCygwin\fP is Free software; for complete licensing information, refer to:
+
+.B http://cygwin.com/licensing.html
+.\"}}}
+
+.\"{{{  See also
+.SH "SEE ALSO"
+.BR intro (3)
+.\"}}}
diff --git a/winsup/man/intro.3 b/winsup/man/intro.3
new file mode 100644
index 0000000..780c8bb
--- /dev/null
+++ b/winsup/man/intro.3
@@ -0,0 +1,91 @@
+.\"{{{}}}
+.\"{{{  Title
+.TH INTRO 3 "" "" "Cygwin"
+.\"}}}
+.\"{{{  Name
+.SH NAME
+.B intro
+\- Introduction to the Cygwin API
+.\"}}}
+.\"{{{  Description
+.SH DESCRIPTION
+.B Cygwin
+is a Linux-like environment for Windows. It consists of two parts:
+
+A DLL (\fBcygwin1.dll\fP) which acts as a Linux API emulation layer providing
+substantial Linux API functionality.
+This page describes the API provided by the DLL.
+
+A collection of tools which provide Linux look and feel.
+This environment is described in the
+.BR intro (1)
+man page.
+.\"}}}
+
+.\"{{{  Availability
+.SH AVAILABILITY
+.B Cygwin
+is developed by volunteers collaborating over the Internet. It is
+distributed through the website
+\fBhttp://cygwin.com\fP. The website has extensive documentation,
+including FAQ, User's Guide, and API Reference. It should be considered the
+authoritative source of information. The source code, relased under the
+\fBGNU General Public License, Version 2\fP, is also availalbe from the
+website or one of the mirrors.
+.\"}}}
+
+.\"{{{  Availability
+.SH COMPATIBILITY
+.B Cygwin
+policy is to attempt to adhere to
+.B POSIX/SUSv2
+(Portable Operating System Interface for UNIX / The Single UNIX Specification,
+Version 2) where possible.
+
+\fBSUSv2\fP is available online at:
+
+.B http://www.opengroup.org/onlinepubs/007908799/
+
+For compatibility information about specific functions, see the API
+Reference at:
+
+.B http://cygwin.com/cygwin-api/cygwin-api.html
+
+Where these standards are ambiguous, Cygwin tries to mimic \fBLinux\fP.
+However, \fBCygwin\fP uses \fBnewlib\fP instead of \fBglibc\fP
+as its C Library, available at:
+
+.B http://sources.redhat.com/newlib/
+
+Keep in mind that there are many underlying differences between UNIX and
+Win32 (for example, a case-insensitive file system), making complete
+compatibility an ongoing challenge.
+.\"}}}
+
+.\"{{{  Reporting Bugs
+.SH REPORTING BUGS
+If you find a bug in\fB Cygwin\fP, please read
+
+.B http://cygwin.com/bugs.html
+
+and follow the instructions for reporting found there.
+If you are able to track down the source of the bug and can provide a
+fix, there are instructions for contributing patches at:
+
+.B http://cygwin.com/contrib.html
+.\"}}}
+
+.\"{{{  Copyright
+.SH COPYRIGHT
+.B Cygwin
+is Copyright (C) 1995-2015 Red Hat, Inc.
+.PP
+\fBCygwin\fP is Free software; for complete licensing information, refer to:
+
+.B http://cygwin.com/licensing.html
+.\"}}}
+
+.\"{{{  See also
+.SH "SEE ALSO"
+.BR intro (1)
+.\"}}}
-- 
2.1.4

